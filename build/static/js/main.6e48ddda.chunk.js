(window["webpackJsonpshoppago-marketplace"]=window["webpackJsonpshoppago-marketplace"]||[]).push([[0],{108:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=a(15),s=(a(71),a(72),a(73),a(33)),i=a(17),m=a.n(i),u=a(25),p=a(4),d=a(5),h=a(7),g=a(6),b=a(8),E=a(26),f=a.n(E),v=a(27),y=[{title:"Home",url:"/"},{title:"Products",url:"/list"},{title:"Contact",url:"/contact"}],j=[{name:"Beauty",url:"/beauty",image:"https://res.cloudinary.com/test-dev/image/upload/v1567438008/Sojourn-Wedding-gift-set-1_zngsx1.jpg"},{name:"Consoles",url:"/consoles",image:"https://res.cloudinary.com/test-dev/image/upload/v1567437742/consolas_nuxpkd.jpg"},{name:"Gadgets",url:"/gadgets",image:"https://res.cloudinary.com/test-dev/image/upload/v1567438885/16_Xperia_M4_Aqua_Group_fb_blog-097a91fc84be2c564c8ff371d4ed3b23_zkv4am.jpg"},{name:"Furnitures",url:"/furnitures",image:"https://res.cloudinary.com/test-dev/image/upload/v1567438598/2271-TABLE-1331-CHAIR-1332-BENCH_nz1kjx.png"},{name:"Living",url:"/living",image:"https://res.cloudinary.com/test-dev/image/upload/v1567438509/Apartment-Living-Room_xntnlh.jpg"},{name:"Health",image:"https://res.cloudinary.com/test-dev/image/upload/v1567438213/Self-care-300x300_r1yxcp.jpg"},{name:"Shoes",url:"/shoes",image:"https://res.cloudinary.com/test-dev/image/upload/v1567438145/supreme-nike-air-force-2_600x400_y5fkle.jpg"},{name:"Tech",url:"/tech",image:"https://res.cloudinary.com/test-dev/image/upload/v1567438769/X56WP4-300x300_2x_mfimoy.jpg"},{name:"Toys",url:"/toys",image:"https://res.cloudinary.com/test-dev/image/upload/v1567438330/LEGO-Classic_sifhxc.jpg"}],O=a(117),N=a(118),k=a(32),x=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={shoppingCounter:0},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({shoppingCounter:this.props.counter})}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.categories,n=e.counter,c=e.onChange,l=e.onSubmit;return r.a.createElement("div",{className:"sticky-top custom-nav"},r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("form",{onSubmit:l},r.a.createElement("div",{className:"input-group mt-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(O.a,{as:N.a.Prepend,className:"custom-button",title:"Category",id:"input-group-dropdown-1"},a&&a.map(function(e,t){return r.a.createElement(k.a.Item,{key:t},r.a.createElement(o.b,{to:"/by-category/".concat(e.name.toLowerCase())},e.name))}))),r.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon2",onChange:c}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"submit",className:"btn custom-button"},r.a.createElement("i",{className:"fas fa-search"})))))))),r.a.createElement("nav",{className:"navbar navbar-light custom-nav navbar-expand"},r.a.createElement(o.b,{className:"navbar-brand nav-item-custom",to:"/"},r.a.createElement("img",{src:"https://res.cloudinary.com/test-dev/image/upload/v1567369877/shopping-512_cfhh1y.png",width:"30",height:"30",className:"d-inline-block align-top",alt:""}),r.a.createElement("span",null," "),"Shoppago Market"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},t&&t.map(function(e,t){return r.a.createElement("li",{className:"nav-item-custom",key:t},r.a.createElement(o.c,{className:"nav-link nav-item-custom",to:e.url},e.title))})),r.a.createElement(o.b,{to:"/shopping-cart",className:"btn custom-button my-2 my-sm-0",type:"button"},r.a.createElement("span",{className:"badge badge-pill badge-light"},n),r.a.createElement("img",{src:"https://res.cloudinary.com/test-dev/image/upload/v1567441340/shopping-cart_hdri5c.png",width:"35",height:"30",className:"d-inline-block align-top",alt:""})))))}}]),t}(n.Component),C=(a(108),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.copyright,t=void 0===e?"&copy; React 2019":e;return r.a.createElement("div",{className:"Footer"},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:t}}))}}]),t}(n.Component)),S=a(123),w=function(){return r.a.createElement(S.a,null,r.a.createElement(S.a.Item,null,r.a.createElement("img",{style:{height:"1024px",width:"720px"},className:"d-block w-100 h-25",src:"https://res.cloudinary.com/test-dev/image/upload/v1567446287/descarga_mryi4y.jpg",alt:"First slide"}),r.a.createElement(S.a.Caption,null,r.a.createElement("h3",null,"First slide label"),r.a.createElement("p",null,"Nulla vitae elit libero, a pharetra augue mollis interdum."))),r.a.createElement(S.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://res.cloudinary.com/test-dev/image/upload/v1567446388/walking_for_health_1_eztlcb.jpg",alt:"Third slide"}),r.a.createElement(S.a.Caption,null,r.a.createElement("h3",null,"Second slide label"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))),r.a.createElement(S.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://res.cloudinary.com/test-dev/image/upload/v1567446563/descarga_1_qb5pti.jpg",alt:"Third slide"}),r.a.createElement(S.a.Caption,null,r.a.createElement("h3",null,"Third slide label"),r.a.createElement("p",null,"Praesent commodo cursus magna, vel scelerisque nisl consectetur."))))},I=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.category;return r.a.createElement("div",{className:"card w-25"},r.a.createElement(o.b,{to:"/by-category".concat(e.url)},r.a.createElement("center",null,r.a.createElement("img",{style:{width:"300px",height:"300px"},src:e.image,className:"card-img-top img-fluid",alt:"..."})),r.a.createElement("center",null,r.a.createElement("h5",{className:"card-title mt-2"},e.name))))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.categories;return r.a.createElement("div",{className:"card-deck "},e.map(function(e,t){return r.a.createElement(I,{key:t,category:e})}))}}]),t}(n.Component),A=function(e){var t=e.categories;return r.a.createElement("div",{className:"max-width"},r.a.createElement(_,{categories:t.slice(0,3)}),r.a.createElement("br",null),r.a.createElement(_,{categories:t.slice(3,6)}),r.a.createElement("br",null),r.a.createElement(_,{categories:t.slice(6)}),r.a.createElement("br",null),r.a.createElement(w,null))},T=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("center",null,r.a.createElement("h2",{className:"display-4"},"In a galaxy far far away...")))},D=a(119),L=a(120),R=a(121),M=a(124),P=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.products;return r.a.createElement(D.a,{fluid:!0},r.a.createElement("ul",{className:"list-group"},e&&e.map(function(e,t){return r.a.createElement("li",{key:t,className:"list-group-item list-group-item-action"},r.a.createElement(L.a,null,r.a.createElement(R.a,{xs:6,md:4},r.a.createElement("img",{style:{height:"200px",width:"200px"},alt:"...",src:e.image,className:"rounded img-thumbnail"})),r.a.createElement(R.a,{xs:6,md:4},r.a.createElement(M.a,{style:{width:"18rem"}},r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Title,null,r.a.createElement(o.b,{to:"/product-detail/".concat(e._id)},e.name)),r.a.createElement(M.a.Subtitle,{className:"mb-2 text-muted"},e.price),r.a.createElement(M.a.Text,null,e.description),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(M.a.Subtitle,{className:"mb-2 text-muted"},"Stock: ",e.quantity||""))))))})))}}]),t}(n.Component),B=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.products;return r.a.createElement(P,{products:e})}}]),t}(n.Component),F=a(122),q=a(63),H=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.onRemoveItem,n=e.onIncrement,c=e.onDecrement;return r.a.createElement(D.a,null,r.a.createElement(L.a,null,r.a.createElement(R.a,null,r.a.createElement(F.a,{src:t.image,rounded:!0})),r.a.createElement(R.a,null,r.a.createElement(M.a,{style:{width:"18rem"}},r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Title,null,t.description.split(" ").slice(0,3).join(" ")),r.a.createElement(M.a.Subtitle,{className:"mb-2 text-muted"},t.price),t.count>0?r.a.createElement("button",{onClick:c,className:"btn btn-primary btn-sm m-r"},"-"):r.a.createElement("button",{className:"btn btn-primary btn-sm m-r",disabled:!0},"-"),r.a.createElement("button",{onClick:n,className:"btn btn-primary btn-sm m-2"},"+"),r.a.createElement("span",{className:"badge badge-primary badge-pill"},t.count),r.a.createElement(M.a.Text,null,"Stock: "+t.quantity),r.a.createElement(q.a,{variant:"danger",onClick:a},"Delete"))))))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={totalItems:0,totalPrice:0,email:"",redirectToHome:!1},a.handleSubmit=function(){var e=Object(u.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),alert(a.state.email),e.prev=2,e.next=5,f.a.post("https://api-shoppago-market.herokuapp.com/shopping/buy",{cart:localStorage.getItem("productsCart"),subtotal:a.getTotalPriceFixed(a.props.products),email:a.state.email});case 5:alert("OutSide try"),localStorage.clear(),n=localStorage.getItem("productsCart"),localStorage.clear(),alert(n),a.setState({redirectToHome:!0}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),alert("Some errors",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),a.getTotalPriceFixed=function(e){return e.reduce(function(e,t){return e+t.priceFormated*t.count},0).toFixed(2)},a.handleOnChange=function(e){a.setState({email:e.target.value}),console.log(a.state.email)},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){console.log("Did mount")}},{key:"componentDidUpdate",value:function(){console.log("Did updated")}},{key:"render",value:function(){console.log("Render Shopping");var e=this.props.products;return this.state.redirectToHome?r.a.createElement(v.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Subtotal"),r.a.createElement("h2",null,"Items: ",e.length),r.a.createElement("h2",null,"USD ",this.getTotalPriceFixed(e)),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleOnChange,type:"email",className:"form-control",placeholder:"email",required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"fas fa-money-check-alt"})," Buy")))}}]),t}(n.Component),U=function(e){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("center",null,r.a.createElement("h1",{className:"display-4"},e.message)))},z=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onRemoveItem,a=e.onIncrement,n=e.onDecrement,c=e.products;return Boolean(c.length)?r.a.createElement(D.a,{fluid:!0},r.a.createElement(L.a,null,r.a.createElement(R.a,null,r.a.createElement("ul",{className:"list-group"},c&&c.map(function(e,c){return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:c},r.a.createElement(H,{key:c,product:e,onRemoveItem:function(){return t(e)},onIncrement:function(){return a(e)},onDecrement:function(){return n(e)}}))}))),r.a.createElement(R.a,{xs:3},r.a.createElement(J,{products:c})))):r.a.createElement(U,{message:"Cart is empty!"})}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={product:{}},a.getProduct=function(e,t){return e.filter(function(e){return e._id===t})[0]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.products.filter(function(t){return t._id===e.props.match.params._id});this.setState({product:t[0]})}},{key:"render",value:function(){console.log("Detail render");var e=this.props,t=e.onAddItem,a=e.products;console.log(this.props);var n=this.getProduct(this.props.products,this.props.match.params._id);return console.log("product",n),r.a.createElement("div",null,a.length>0?r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{style:{height:"300px",width:"300px"},src:n.image,alt:""})),r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"display-4"},n.description.split(" ").slice(0,3).join(" ")),r.a.createElement("h3",null,n.price),r.a.createElement("h3",{className:"lead"},n.description),r.a.createElement("hr",{className:"my-4"}),n.inCart?r.a.createElement("button",{className:"btn btn-primary btn-lg",disabled:!0},r.a.createElement("i",{className:"fas fa-cart-plus"})," In Cart"):r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){return t(n)}},r.a.createElement("i",{className:"fas fa-cart-plus"})," Add")))):r.a.createElement(U,{message:"Meanwhile in a galaxy far far away..."}))}}]),t}(n.Component),W=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.category;return r.a.createElement(D.a,{fluid:!0},r.a.createElement("ul",{className:"list-group"},t&&t.map(function(e,t){return r.a.createElement("li",{className:"list-group-item list-group-item-action"},r.a.createElement(L.a,{key:t},r.a.createElement(R.a,{key:t+2,xs:6,md:4},r.a.createElement(F.a,{key:t,src:e.product.image||"",rounded:!0})),r.a.createElement(R.a,{key:t,xs:6,md:4},r.a.createElement(M.a,{key:t,style:{width:"18rem"}},r.a.createElement(M.a.Body,{key:t},r.a.createElement(M.a.Title,{key:t},r.a.createElement(o.b,{key:t,to:"/product-detail/category/".concat(e.product._id||"")},e.product.description.split(" ").slice(0,3).join(" ")||"")),r.a.createElement(M.a.Subtitle,{className:"mb-2 text-muted"},e.product.price||""),r.a.createElement(M.a.Text,null,e.product.description||""),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(M.a.Subtitle,{className:"mb-2 text-muted"},"Stock: ",e.product.quantity||""),r.a.createElement(M.a.Text,null,"Category: ".concat(a)))))))})))}}]),t}(n.Component),X=function(e){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("center",null,r.a.createElement("h1",{className:"display-4"},e.message),r.a.createElement("br",null),r.a.createElement("div",{className:"spinner-border text-info",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))},Y=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={products:{},category:""},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.category===this.props.match.params.category){e.next=12;break}return t=this.props.match.params.category,e.prev=2,e.next=5,f.a.get("https://api-shoppago-market.herokuapp.com/category/".concat(t));case 5:a=e.sent,n=a.data,this.setState({products:n,category:t}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.category,e.prev=1,e.next=4,f.a.get("https://api-shoppago-market.herokuapp.com/category/".concat(t));case 4:a=e.sent,n=a.data,this.setState({products:n,category:t}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.products,a=e.category;return Boolean(t.length)?r.a.createElement(W,{products:t,category:a}):r.a.createElement(X,{message:"Meanwhile in a galaxy far far away..."})}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={product:{}},a.getProduct=function(e,t){return e.products.filter(function(e){return e._id===t})[0]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.products.filter(function(t){return t._id===e.props.match.params._id});this.setState({product:t[0]})}},{key:"render",value:function(){var e=this.props.onAddItem,t=this.getProduct(this.props,this.props.match.params._id);return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(F.a,{src:t.image,rounded:!0})),r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"display-4"},t.name),r.a.createElement("h3",null,t.price),r.a.createElement("h3",{className:"lead"},t.description),r.a.createElement("hr",{className:"my-4"}),t.inCart?r.a.createElement("button",{className:"btn btn-primary btn-lg",disabled:!0},r.a.createElement("i",{className:"fas fa-cart-plus"})," In Cart"):r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){return e(t)}},r.a.createElement("i",{className:"fas fa-cart-plus"})," Add"))))}}]),t}(n.Component),Q=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.results;return r.a.createElement(D.a,{fluid:!0},r.a.createElement("ul",{className:"list-group"},e&&e.map(function(e,t){return r.a.createElement("li",{className:"list-group-item list-group-item-action"},r.a.createElement(L.a,null,r.a.createElement(R.a,{xs:6,md:4},r.a.createElement("img",{alt:"...",src:e.image,className:"rounded img-thumbnail"})),r.a.createElement(R.a,{xs:6,md:4},r.a.createElement(M.a,{style:{width:"18rem"}},r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Title,null,r.a.createElement(o.b,{to:"/product-detail/".concat(e._id)},e.description.split(" ").slice(0,3).join(" "))),r.a.createElement(M.a.Subtitle,{className:"mb-2 text-muted"},e.price),r.a.createElement(M.a.Text,null,e.description),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(M.a.Subtitle,{className:"mb-2 text-muted"},"Stock: ",e.quantity||""))))))})))}}]),t}(n.Component),V=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.results;return r.a.createElement(Q,{results:e})}}]),t}(n.Component),Z=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("center",null,r.a.createElement("h1",{className:"display-4"},"Your looking for something that doesn't exits, like your chrush's love :("),r.a.createElement("br",null),r.a.createElement(o.b,{to:"/"},r.a.createElement("button",{className:"btn btn-lg custom-button "},"Let's go home, I'll bring you coffee"))))},$=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={shoppingCounter:0,productsCart:[],productList:[],search:"",searchResult:[]},a.handleSubmit=function(){var e=Object(u.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f.a.get("https://api-shoppago-market.herokuapp.com/product/search?words=".concat(a.state.search));case 4:n=e.sent,r=n.data,console.log(r),a.setState({searchResult:r}),a.props.history.push("/result-list"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("SOmething went wrong with search results");case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){console.log(e.target.value),a.setState({search:e.target.value})},a.handleAddItem=function(e){var t=Object(s.a)(a.state.productsCart);e.inCart=!0,e.count=1,t.push(e),a.setState({shoppingCounter:a.state.shoppingCounter+1,productsCart:t})},a.handleIncrementItem=function(e){var t=Object(s.a)(a.state.productsCart),n=t.indexOf(e);t[n].count+=1,console.log(e),a.setState({productsCart:t})},a.handleDecrementItem=function(e){var t=Object(s.a)(a.state.productsCart),n=t.indexOf(e);t[n].count-=1,t[n].count<=0?a.handleRemoveItem(t[n]):a.setState({productsCart:t})},a.handleRemoveItem=function(e){var t=a.state.productsCart.filter(function(t){return e.inCart=!1,t._id!==e._id});a.setState({shoppingCounter:a.state.shoppingCounter-1,productsCart:t})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("App did mount"),localStorage.getItem("productsCart")&&this.setState({productsCart:JSON.parse(localStorage.getItem("productsCart")),shoppingCounter:JSON.parse(localStorage.getItem("productsCart")).length}),localStorage.getItem("productList")){e.next=17;break}return console.log("no productlist"),e.prev=4,e.next=7,f.a.get("https://api-shoppago-market.herokuapp.com/product/products");case 7:t=e.sent,(a=t.data)&&this.setState({productList:a}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:e.next=19;break;case 17:console.log("Using productList from localStorage"),this.setState({productList:JSON.parse(localStorage.getItem("productList"))});case 19:case"end":return e.stop()}},e,this,[[4,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUpdate",value:function(e,t){console.log("App will update"),localStorage.setItem("productsCart",JSON.stringify(t.productsCart)),localStorage.setItem("productList",JSON.stringify(t.productList))}},{key:"render",value:function(){var e=this;console.log("App render");var t=this.state,a=t.shoppingCounter,n=t.productsCart,c=t.productList,l=t.searchResult;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement(x,{items:y,categories:j,counter:a,onChange:this.handleChange,onSubmit:this.handleSubmit}),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",component:function(e){return r.a.createElement(A,Object.assign({},e,{categories:j}))}}),r.a.createElement(v.b,{exact:!0,path:"/product-detail/:_id",component:function(t){return r.a.createElement(G,Object.assign({},t,{onAddItem:e.handleAddItem,products:c}))}}),r.a.createElement(v.b,{exact:!0,path:"/product-detail/category/:_id",render:function(t){return r.a.createElement(K,Object.assign({},t,{onAddItem:e.handleAddItem,products:c}))}}),r.a.createElement(v.b,{exact:!0,path:"/by-category/:category",component:Y}),r.a.createElement(v.b,{exact:!0,path:"/shopping-cart",render:function(t){return r.a.createElement(z,Object.assign({},t,{products:n,onRemoveItem:e.handleRemoveItem,onIncrement:e.handleIncrementItem,onDecrement:e.handleDecrementItem}))}}),r.a.createElement(v.b,{exact:!0,path:"/contact",component:T}),r.a.createElement(v.b,{exact:!0,path:"/result-list",render:function(e){return r.a.createElement(V,Object.assign({},e,{results:l}))}}),r.a.createElement(v.b,{exact:!0,path:"/list",render:function(e){return r.a.createElement(B,Object.assign({},e,{products:c}))}}),r.a.createElement(v.b,{path:"*",component:Z})),r.a.createElement(C,{copyright:"\xa9 Shoppago Marketplace 2019"})))}}]),t}(n.Component),ee=Object(v.g)($);l.a.render(r.a.createElement(o.a,null,r.a.createElement(ee,null)),document.getElementById("root"))},66:function(e,t,a){e.exports=a(115)},71:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.6e48ddda.chunk.js.map